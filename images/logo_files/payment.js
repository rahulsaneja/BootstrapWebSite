Stripe.setPublishableKey(("www.designevo.com"==document.domain)?'pk_live_YjqlhoGfEi7O8ZpFUcT64ZNa':'pk_test_rsVIXaY8hNLEX9bU8RtLXOnC');let ABTestType=window.localStorage.getItem("ABTestType");if(!ABTestType){ABTestType=(new Date().getTime()%2)===0?"A":"B";window.localStorage.setItem("ABTestType",ABTestType);}
var isApp=(window.location.href.indexOf("/apps/logo/")!=-1);var isAppUpgrade=false;var currentWebUrl=("www.designevo.com"==document.domain)?"https://www.designevo.com":"https://www.photoframemaster.com";let currencyCode=geoplugin_currencyCode()||"USD",currencySymbol="$",basicPrice={price:19.99,oldPrice:39.99,exPrice:geoplugin_currencyConverter(19.99),},plusPrice={price:39.99,oldPrice:99.99,exPrice:geoplugin_currencyConverter(39.99),},upgradePrice={price:(plusPrice.price-basicPrice.price).toFixed(2),oldPrice:(plusPrice.oldPrice-basicPrice.oldPrice).toFixed(2),exPrice:(plusPrice.exPrice-basicPrice.exPrice).toFixed(2),};function commonCurrentLanguageHref(){var url=document.location.href;var tag='';if(url.indexOf('/cn/')!=-1)
tag='cn/';else if(url.indexOf('/tw/')!=-1)
tag='tw/';else if(url.indexOf('/de/')!=-1)
tag='de/';else if(url.indexOf('/es/')!=-1)
tag='es/';else if(url.indexOf('/pt/')!=-1)
tag='pt/';else if(url.indexOf('/jp/')!=-1)
tag='jp/';return tag;}
let packageData=[{title:localPayment["free"],type:"Free",price:"0.00",giveCredit:localPayment["give-credit"],oldPrice:"",exPrice:"",count:2,btnInfo:(ABTestType=="A")?localPayment["choose"]:localPayment["download-free"],btnClass:"green-btn",isShow:true,oneTime:localPayment["one-time"],downloadSample:localPayment["download-sample"],tipItems:[{title:localPayment["low-files"],tip:localPayment["low-files-tip"]},{title:localPayment["png-background"],}],},{title:localPayment["basic"],type:"Basic",price:basicPrice.price,oldPrice:basicPrice.oldPrice,exPrice:basicPrice.exPrice,count:5,btnInfo:localPayment["choose"],btnClass:"green-btn",isShow:true,oneTime:localPayment["one-time"],downloadSample:localPayment["download-sample"],tipItems:[{title:localPayment["max-files"],tip:localPayment["max-files-tip"]},{title:localPayment["png-transparent"],},{title:localPayment["lifetime-support"],},{title:localPayment["print-ready"],tip:localPayment["print-ready-tip"]},{title:localPayment["re-download"],}],},{title:localPayment["plus"],type:"Plus",price:plusPrice.price,oldPrice:plusPrice.oldPrice,exPrice:plusPrice.exPrice,count:8,btnInfo:localPayment["choose"],btnClass:"green-btn",isShow:true,oneTime:localPayment["one-time"],downloadSample:localPayment["download-sample"],tipItems:[{title:localPayment["max-files"],tip:localPayment["max-files-tip"]},{title:localPayment["png-transparent"],},{title:localPayment["lifetime-support"],},{title:localPayment["print-ready"],tip:localPayment["print-ready-tip"]},{title:localPayment["re-download"],},{title:localPayment["pdf-svg"],},{title:localPayment["copyright-ownership"],tip:localPayment["copyright-ownership-tip"]}],}];let packageFAQs={items:[{title:localPayment["faq1"],reply:localPayment["faq-reply1"]},{title:localPayment["faq2"],reply:localPayment["faq-reply2"]},{title:localPayment["faq3"],reply:localPayment["faq-reply3"],},{title:localPayment["faq4"],reply:localPayment["faq-reply4"],},{title:localPayment["faq5"],reply:localPayment["faq-reply5"],},{title:localPayment["faq6"],reply:localPayment["faq-reply6"],},]};Vue.component('plus-svg',{template:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100px" height="100px" viewbox="0 0 100 100"><polygon fill="#D0021B" points="100,100 100,0 0,0 "/><g><path fill="#FFFFFF" d="M58.246,15.912l8.547-8.546l2.929,2.929c0.966,0.967,1.508,1.896,1.626,2.789 c0.117,0.891-0.208,1.721-0.975,2.488c-0.391,0.391-0.849,0.637-1.373,0.739c-0.525,0.102-1.076,0.035-1.655-0.2 c0.337,0.588,0.458,1.181,0.363,1.779c-0.093,0.599-0.384,1.141-0.868,1.625c-0.803,0.803-1.676,1.162-2.621,1.078 s-1.896-0.605-2.855-1.564L58.246,15.912z M63.588,13.541l-2.659,2.658l1.649,1.65c0.465,0.465,0.945,0.714,1.437,0.746 c0.493,0.033,0.943-0.156,1.353-0.564c0.884-0.885,0.881-1.79-0.006-2.718L63.588,13.541z M64.68,12.449l1.455,1.455 c0.462,0.463,0.928,0.719,1.397,0.77s0.896-0.115,1.28-0.499c0.422-0.423,0.607-0.848,0.554-1.276 c-0.052-0.429-0.333-0.897-0.842-1.406l-1.444-1.443L64.68,12.449z"/><path fill="#FFFFFF" d="M74.641,24.676l-3.511-3.51l-2.618,2.617l4.104,4.104l-1.197,1.197l-5.588-5.588l8.546-8.547l5.546,5.547 l-1.197,1.197l-4.061-4.062l-2.359,2.359l3.51,3.511L74.641,24.676z"/><path fill="#FFFFFF" d="M79.295,32.558c0.375-0.376,0.533-0.797,0.473-1.265c-0.062-0.467-0.332-1.149-0.813-2.045 c-0.48-0.896-0.798-1.675-0.95-2.336c-0.291-1.269-0.041-2.295,0.745-3.082c0.688-0.688,1.536-0.976,2.544-0.859 c1.008,0.115,1.96,0.621,2.856,1.518c0.595,0.594,1.015,1.234,1.261,1.919s0.301,1.362,0.162,2.033s-0.455,1.253-0.949,1.746 l-1.479-1.479c0.442-0.441,0.649-0.928,0.621-1.458c-0.03-0.53-0.306-1.056-0.826-1.575c-0.484-0.485-0.965-0.76-1.439-0.82 c-0.475-0.063-0.896,0.093-1.268,0.463c-0.311,0.312-0.426,0.717-0.346,1.215c0.081,0.498,0.356,1.178,0.824,2.039 c0.469,0.862,0.778,1.621,0.93,2.277c0.149,0.654,0.156,1.24,0.016,1.755c-0.138,0.515-0.427,0.991-0.865,1.429 c-0.712,0.713-1.551,1.006-2.518,0.881s-1.918-0.656-2.854-1.591c-0.617-0.618-1.07-1.301-1.361-2.048 c-0.289-0.748-0.376-1.467-0.261-2.158c0.115-0.689,0.441-1.303,0.978-1.84l1.485,1.486c-0.485,0.484-0.7,1.021-0.646,1.607 c0.055,0.586,0.382,1.18,0.98,1.777c0.517,0.518,1.009,0.801,1.479,0.852C78.543,33.049,78.95,32.902,79.295,32.558z"/><path fill="#FFFFFF" d="M93.405,36.373l-2.665-2.664l-7.349,7.348l-1.473-1.473l7.349-7.348l-2.643-2.643l1.197-1.197l6.78,6.779 L93.405,36.373z"/><path fill="#FFFFFF" d="M46.513,25.912L55.37,21.4l1.632,1.631L45.38,28.502l-1.438-1.438l5.482-11.609l1.627,1.626L46.513,25.912z "/><path fill="#FFFFFF" d="M55.752,34.895l-3.311-3.311l-2.684,1.296l-1.543-1.543l11.774-5.317l1.333,1.332L56.01,39.131 l-1.549-1.549L55.752,34.895z M54.055,30.803l2.478,2.477l2.307-4.783L54.055,30.803z"/><path fill="#FFFFFF" d="M59.66,40.387l3.88,3.881l-1.197,1.197L56.979,40.1l8.545-8.546l1.485,1.485L59.66,40.387z"/><path fill="#FFFFFF" d="M78.137,44.167l-5.711,5.711c-0.907,0.907-1.916,1.337-3.027,1.285c-1.111-0.05-2.15-0.56-3.117-1.526 c-0.979-0.978-1.494-2.016-1.547-3.113s0.385-2.11,1.312-3.037l5.705-5.705l1.479,1.479l-5.708,5.709 c-0.57,0.57-0.86,1.15-0.872,1.741c-0.012,0.59,0.265,1.167,0.828,1.729c1.143,1.143,2.315,1.113,3.52-0.091l5.66-5.661 L78.137,44.167z"/><path fill="#FFFFFF" d="M79.987,55.479l-3.511-3.511l-2.617,2.618l4.103,4.104l-1.197,1.197l-5.588-5.588l8.546-8.547l5.547,5.547 l-1.197,1.197l-4.063-4.062l-2.359,2.359l3.511,3.511L79.987,55.479z"/></g></svg>'});Vue.component('name-svg',{template:'<svg class="c-payment__input-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24"><path fill="#4FC5B2" d="M12,2c1.993,0,3.281,1.422,3.281,3.624c0,2.337-1.503,4.312-3.281,4.312c-1.777,0-3.278-1.975-3.278-4.312	C8.722,3.422,10.009,2,12,2 M12,0C8.892,0,6.722,2.313,6.722,5.624c0,3.48,2.368,6.312,5.278,6.312c2.912,0,5.281-2.831,5.281-6.312	C17.281,2.313,15.109,0,12,0L12,0z"/><path fill="#4FC5B2" d="M11.828,14.691l0.106,0.002l0.04,0.001l0.039-0.001l0.129-0.002c3.145,0.002,6.967,0.762,7.355,4.318	c0.006,0.096,0.01,0.285,0.017,0.748C17.365,21.227,14.779,22,12,22c-2.854,0-5.378-0.752-7.515-2.236	c0.008-0.468,0.01-0.65,0.014-0.719C4.891,15.447,8.726,14.691,11.828,14.691 M12.127,12.691l-0.146,0.003l-0.106-0.003	c-5.606,0-8.933,2.18-9.363,6.137C2.5,18.92,2.496,19.096,2.483,19.873L2.476,20.35c0,0.02,0.003,0.037,0.005,0.057	c0.002,0.027,0.002,0.056,0.007,0.083s0.012,0.054,0.019,0.079c0.006,0.023,0.012,0.049,0.021,0.072	c0.009,0.025,0.021,0.049,0.034,0.074c0.01,0.022,0.021,0.045,0.034,0.066c0.014,0.023,0.029,0.045,0.046,0.066	c0.016,0.02,0.031,0.04,0.047,0.059c0.02,0.022,0.043,0.041,0.064,0.06c0.013,0.013,0.024,0.027,0.039,0.038	c0.007,0.004,0.014,0.009,0.022,0.015c0.003,0.003,0.007,0.007,0.011,0.009C5.407,22.998,8.494,24,12,24	c3.419,0,6.589-1.027,9.173-2.971c0.006-0.004,0.011-0.007,0.017-0.011s0.012-0.008,0.017-0.011	c0.014-0.012,0.024-0.025,0.039-0.035c0.021-0.021,0.045-0.041,0.066-0.064c0.017-0.018,0.031-0.038,0.046-0.059	c0.019-0.021,0.034-0.041,0.048-0.065c0.014-0.021,0.024-0.044,0.034-0.066c0.013-0.024,0.024-0.048,0.034-0.073	c0.009-0.023,0.015-0.047,0.021-0.072c0.008-0.026,0.014-0.051,0.019-0.079c0.003-0.027,0.005-0.055,0.008-0.083	c0.001-0.02,0.004-0.039,0.003-0.059l-0.006-0.32c-0.013-0.879-0.019-1.104-0.029-1.203C21.058,14.871,17.732,12.691,12.127,12.691	L12.127,12.691z"/></svg>'});Vue.component('card-svg',{template:'<svg class="c-payment__input-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24px" height="24px" viewBox="0 -3 24 24"><path fill="#4FC5B2" d="M20.891,0H3.109C1.395,0,0,1.379,0,3.075v11.85C0,16.621,1.395,18,3.109,18h17.783	C22.605,18,24,16.621,24,14.925V3.075C24,1.379,22.605,0,20.891,0z M22,14.768C22,15.447,21.436,16,20.742,16H3.258	C2.564,16,2,15.447,2,14.768V9h20V14.768L22,14.768z M22,5H2V3.366C2,2.613,2.564,2,3.258,2h17.484C21.436,2,22,2.613,22,3.366V5	L22,5z M6,12H3v2h3V12z M10,12H7v2h3V12z M14,12h-3v2h3V12z M18,12h-3v2h3V12z"/></svg>'});Vue.component('expiration-svg',{template:'<svg class="c-payment__input-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24px" height="24px" viewBox="-1 -1.5 24 24"><path fill="#4FC5B2" d="M20.281,1.95h-1.066V1.648C19.215,0.742,18.441,0,17.496,0c-0.971,0-1.744,0.742-1.744,1.648	V1.95H6.247V1.648C6.247,0.742,5.473,0,4.528,0C3.557,0,2.783,0.742,2.783,1.648V1.95H1.719C0.773,1.95,0,2.691,0,3.598v15.753	C0,20.258,0.773,21,1.719,21h18.562C21.227,21,22,20.258,22,19.352V3.598C22,2.691,21.227,1.95,20.281,1.95z M16.439,1.767	c0-0.568,0.462-1.032,1.031-1.032h0.025c0.568,0,1.031,0.463,1.031,1.032v3.057c0,0.568-0.463,1.031-1.031,1.031h-0.025	c-0.569,0-1.031-0.463-1.031-1.031V1.767z M3.471,1.767c0-0.568,0.461-1.032,1.031-1.032h0.026c0.568,0,1.031,0.463,1.031,1.032	v3.057c0,0.568-0.463,1.031-1.031,1.031H4.502c-0.569,0-1.031-0.463-1.031-1.031V1.767z M19.678,19H2.322	C2.147,19,2,18.848,2,18.668V7h18v11.668C20,18.848,19.853,19,19.678,19z"/></svg>'});Vue.component('cvc-svg',{template:'<svg class="c-payment__input-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24px" height="24px" viewBox="-2.5 0 24 24"><path fill="#4FC5B2" d="M2.293,24h14.414C17.984,24,19,23.015,19,21.775V10.967c0-1.24-1.016-2.225-2.293-2.225V7.057		C16.707,3.179,13.464,0,9.5,0S2.293,3.179,2.293,7.057v1.685C1.016,8.742,0,9.727,0,10.967v10.809C0,23.015,1.016,24,2.293,24z		 M17,22H2V11h15V22z M5,7.098C5,4.297,7.025,2,9.5,2C11.975,2,14,4.297,14,7.098V9H5V7.098z"/>	<rect x="8" y="15" fill="#4FC5B2" width="2.526" height="4.421"/></svg>'});Vue.component('select-svg',{template:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16"><path fill="#4FC5B2" d="M0.192,8.743C0.003,9.029-0.099,9.282,0.136,9.477c2.239,1.863,4.064,3.502,5.35,5.061c0.417,0.504,0.692,0.455,1.065-0.022c2.81-3.588,5.948-6.521,9.179-9c0.356-0.275,0.317-0.629,0.121-1.131c-0.361-0.923-0.748-1.929-1.398-2.93C14.18,1.03,13.9,1.012,13.555,1.297c-2.789,2.304-5.205,4.571-7.19,6.882C6.041,8.553,5.71,8.504,5.31,8.121C4.371,7.226,3.501,6.574,2.825,6.024C2.429,5.705,2.116,5.729,1.835,6.146C1.229,7.04,0.726,7.932,0.192,8.743z"/></svg>'});Vue.component('tip-svg',{props:["data"],template:'<div ref="tip" class="c-package__tip">'+
'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16"><path fill="#A9A9A9" d="M13.649,2.343c-2.286-2.288-5.726-2.973-8.713-1.734C1.948,1.848,0,4.764,0,8	c0,3.236,1.948,6.152,4.936,7.391s6.427,0.554,8.713-1.734C15.154,12.158,16,10.123,16,8C16,5.876,15.154,3.841,13.649,2.343	L13.649,2.343z M9.062,12.25H6.928V6.97h2.133V12.25z M7.995,6.081c-0.473,0-0.899-0.285-1.08-0.722	c-0.181-0.437-0.081-0.94,0.254-1.275C7.503,3.75,8.007,3.649,8.443,3.831c0.438,0.182,0.721,0.608,0.721,1.082	c0,0.31-0.123,0.607-0.343,0.827S8.305,6.081,7.995,6.081z"/></svg>'+
'<div ref="tipPanel" class="c-package__tip-panel"><p class="u-text-center"><span>{{data}}</span></p></div></div>',mounted:function(){let packageTip=this.$refs.tip;let tipPanel=this.$refs.tipPanel;let $tipPanel=jQuery(tipPanel);jQuery(packageTip).hover(function(){$tipPanel.removeClass("active");$tipPanel.show();let innerWidth=jQuery(window).innerWidth();let $right=$tipPanel.offset().left+$tipPanel.outerWidth();if($right>innerWidth){$tipPanel.addClass("active");}},function(){$tipPanel.hide();});}});Vue.component('btn-animate',{template:'<div class="loader u-animate"><div class="loader-inner ball-pulse"><div></div><div></div><div></div></div></div>',});Vue.component('canvas-item',{props:['data'],template:'<div class="swiper-slide" ><div class="c-package__preview-image"><img ref="slideItem1" src="" alt=""></div><div class="c-package__preview-image"><img ref="slideItem2" src="" alt=""></div></div>',mounted:function(){this.updatePreview();},updated:function(){this.updatePreview();},methods:{updatePreview:function(){let c1=this.$refs.slideItem1;let c2=this.$refs.slideItem2;c1.src=this.data[0];c2.src=this.data[1];},},});Vue.component('arrow-svg',{props:["data"],template:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="22px" height="22px" viewBox="0 0 22 22"> <path fill="#D8D8D8" d="M7.176,11l9.55,9.427c0.365,0.36,0.365,0.942,0,1.304c-0.365,0.359-0.957,0.359-1.322,0L5.263,11.722C5.062,11.525,4.982,11.26,5.003,11c-0.021-0.258,0.059-0.523,0.259-0.721l10.14-10.008c0.367-0.361,0.957-0.361,1.322,0c0.366,0.359,0.366,0.943,0,1.303L7.176,11L7.176,11z"/> </svg>',});Vue.component('swiper-item',{props:['canvas'],template:'<div class="swiper-container">'+
'<div class="swiper-wrapper"><canvas-item v-for="canva in canvas" :data="canva" :key="canva.id"></canvas-item></div>'+
'<div class="swiper-pagination"></div>'+
'<div class="swiper-button-next"><arrow-svg></arrow-svg></div>'+
'<div class="swiper-button-prev"><arrow-svg></arrow-svg></div>'+
'</div>',mounted:function(){setTimeout(function(){let swiper=new Swiper('.swiper-container',{slidesPerView:1,spaceBetween:30,loop:true,autoplay:{delay:5000,disableOnInteraction:false,},pagination:{el:'.swiper-pagination',clickable:true,},navigation:{nextEl:'.swiper-button-next',prevEl:'.swiper-button-prev',},});},300);}});Vue.component('package-item',{props:['data','tips','index'],template:'<div class="c-package__plan-item" v-if="data.isShow">'+
'<div class="c-package__item-title" :class="[titleStyleClass]"><plus-svg v-if="index==2"></plus-svg>'+
'<h3 :class="[aTestHClass]">{{data.title}}</h3>'+
'<p v-if="(index==0) && isATest" class="test_a_p">{{data.giveCredit}}</p>'+
'<p v-if="index!=0" class="c-package__item-price"><span>$</span><span>{{data.price}}</span><span>&nbsp;USD</span><span>${{data.oldPrice}}</span></p>'+
'<p v-if="index!=0" class="c-package__ex-scale">({{data.exPrice}}&nbsp;{{currencyCode}})</p>'+
'<p v-if="index!=0" class="c-package__once-time">{{data.oneTime}}</p>'+
'</div>'+
'<ul>'+
'<li v-for="(item,index) in data.tipItems">'+
'<select-svg></select-svg><span class="c-package__item-tip">{{item.title}}<span class="c-package__tip-span" v-if="item.tip"><tip-svg :data="item.tip"></tip-svg></span></span>'+
'</li>'+
'</ul>'+
'<button @click="_toPaymentPage(index)" class="u-de-btn" :class="[data.btnClass]">{{data.btnInfo}}</button>'+
'<a v-if="index!=0" class="u-de-a" @click="_downloadSample">{{data.downloadSample}}</a>'+
'</div>',data:function(){return{webUrl:currentWebUrl,sampleUrl:null,currencyCode:currencyCode,currencySymbol:currencySymbol,titleStyleClass:currencyCode==="USD"||this.index===0?"":"style-two"}},computed:{aTestHClass:function(){return(ABTestType=="A")?'':'test_b_h3';},isATest:function(){return(ABTestType=='A');}},mounted:function(){let url=this.webUrl+"/download/basic/logo.zip";if(this.data.type==="Plus"){url=this.webUrl+"/download/plus/logo.zip";}
this.sampleUrl=url;},methods:{_toPaymentPage:function(index){let plan=DEPackage.plan;if(plan==="basic"&&index===1){return;}
if(plan==="free"&&index===0&&(!isApp||isAppUpgrade)){return;}
if(index===0){jQuery(window).scrollTop(0);DEPackage.showAppHidePackage();if(DEPackage.showDownloadPanel){DEPackage.showDownloadPanel();}}else{DEPayment.paymentInfo=packageData[index];if(plan==="basic"){DEPayment.paymentInfo={title:localPayment["plus"],type:"upgrade",price:upgradePrice.price,oldPrice:upgradePrice.oldPrice,exPrice:upgradePrice.exPrice,count:8,btnInfo:"Choose",btnClass:"green-btn",isShow:true,tipItems:packageData[2].tipItems,};}
if(loginStatus){DEPayment.showPaymentPage();}else{PanelFunc.signupClick();window.packageLoginCallback=DEPayment.showPaymentPage;}
if(isApp&&index!==0){let currentPlan=index===1?"basic":"plus";if(DEPackage.isA){gaEvent("app_choose_package_crt_a",currentPlan,"click");}else{gaEvent("app_choose_package_crt_b",currentPlan,"click");}}}},_downloadSample:function(){this._downZipFile(this.sampleUrl);},_downZipFile:function(url){window.isDownloadSample=true;let $eleForm=jQuery("<form method='get'></form>");$eleForm.attr("action",url);jQuery(document.body).append($eleForm);$eleForm.submit();$eleForm.remove();setTimeout(function(){window.isDownloadSample=false;},50);}}});Vue.component('payment-describe',{props:['data','local'],template:'<div class="c-payment__describe">'+
'<div class="c-payment__describe-content" :class="[describeStyleClass]">'+
'<h3>{{local["get-payment"]}}</h3>'+
'<ul>'+
'<li v-for="(item,index) in data.tipItems">'+
'<select-svg></select-svg>{{item.title}}'+
'</li>'+
'</ul>'+
'<div class="c-payment__coupon active" ref="coupon">'+
'<a v-if="!isSuccess" style="font-size: 17px;" class="u-de-a" @click="_toggleCoupon">{{local["coupon"]}}</a>'+
'<p style="color: #4FC5B2;font-size: 17px;" v-if="isSuccess">{{local["coupon-success"]}}</p>'+
'<div v-if="isShowCoupon" class="c-payment__coupon-content">'+
'<input type="text" v-model="couponCode" @keydown="_keyRedeemCoupon" :placeholder="local.couponCode">'+
'<button class="u-de-btn green-btn" @click="_redeemCoupon">'+
'<span v-if="!isShowAnimate">{{local["redeem"]}}</span>'+
'<btn-animate v-if="isShowAnimate"></btn-animate></button>'+
'<p v-if="isError">{{local["coupon-failed"]}}</p>'+
'</div>'+
'</div>'+
'<p class="c-payment__total"><span>{{local["total"]}}</span>'+
'<span class="u-de-fr">${{price}}<span style="font-size: 18px">&nbsp;USD</span><span class="c-payment__old-price u-de-fr u-de-line-m">${{data.oldPrice}}</span></span>'+
'<span class="u-de-fr" v-if="isShowExPrice">{{exPrice}}<span style="font-size: 18px">&nbsp;{{currencyCode}}</span>&nbsp;=&nbsp;</span></p>'+
'<p class="c-payment__contact u-text-center"><span>{{local["contact-us-tip"]}} <a ref="contact" class="u-de-a" href="https://www.designevo.com/contact.html" target="_blank">{{local["contact-us"]}}</a>{{local["anytime"]}}</span></a></p>'+
'</div></div>',data:function(){return{couponCode:null,couponCodeTip:null,isShowCoupon:false,isError:false,isSuccess:false,isShowAnimate:false,price:null,exPrice:null,currencyCode:currencyCode,currencySymbol:currencySymbol,isShowExPrice:false,describeStyleClass:"",}},mounted:function(){let contact=this.$refs.contact;contact.href=currentWebUrl+"/"+commonCurrentLanguageHref()+"contact.html";},methods:{initData:function(){this.isSuccess=false;this.isError=false;this.isShowCoupon=false;this.couponCode=null;let coupon=this.$refs.coupon;if(!jQuery(coupon).hasClass("active")){jQuery(coupon).addClass("active");}
let price=DEPayment.paymentInfo.price;this.price=price;this.exPrice=geoplugin_currencyConverter(price);DEPayment.price=price;},_toggleCoupon:function(){this.isShowCoupon=!this.isShowCoupon;let coupon=this.$refs.coupon;if(this.isShowCoupon){jQuery(coupon).removeClass("active");}else{jQuery(coupon).addClass("active");}},_redeemCoupon:function(){let coupon=this.couponCode;this.isShowAnimate=true;jQuery.ajax({type:"GET",url:DEPayment.webUrl+"index.php?option=com_project&task=payment.redeemCoupon",data:{coupon:coupon},success:function(respon){respon=respon.substring(respon.lastIndexOf("{'"));var obj=new Function("return"+respon)();if(obj.result===true){let couponInfo=JSON.parse(obj.content);let price=this.data.price;if(couponInfo.amountOff){price-=couponInfo.amountOff;}else{price*=couponInfo.percentOff;}
if(price<=0){DEPayment.paymentShowInfo={payBtn:localPayment["download-now"],processing:localPayment["processing"],};DEPayment.isShowPay=0;price=0;}
price=price.toFixed(2);this._setPaymentInfo(price,couponInfo.coupon);this._toggleCoupon();this.isSuccess=true;}else{this.isError=true;}
this.isShowAnimate=false;}.bind(this),error:function(){this.isShowAnimate=false;}.bind(this),});},_keyRedeemCoupon:function(event){if(event.keyCode===13){this._redeemCoupon();}},_setPaymentInfo:function(price,coupon){DEPayment.price=price;DEPayment.coupon=coupon;this.price=price;this.exPrice=geoplugin_currencyConverter(price);}}});Vue.component('back-head',{props:['title','func','back'],template:'<div class="de-back-describe">'+
'<button @click="func" class="u-de-btn de-back-btn">'+
'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30px" height="30px" viewBox="-0.5 -0.5 30 30"><circle fill="#4FC5B2" cx="14.5" cy="14.5" r="14"/><path fill="#FFFFFF" d="M7.366,15.828c-0.491-0.486-0.487-1.275,0.008-1.762l6.791-6.676c1.184-1.183,2.959,0.592,1.775,1.775l-3.961,3.961c-0.326,0.326-0.216,0.59,0.249,0.59h9.518c0.692,0,1.255,0.562,1.255,1.255c0,0.693-0.562,1.255-1.255,1.255h-9.518c-0.463,0-0.575,0.264-0.249,0.59l3.961,3.961c1.184,1.184-0.592,2.957-1.775,1.774L7.366,15.828z"/></svg>'+
'{{back}}'+
'</button>'+
'<h3 class="de-describe-h3">{{title}}</h3>'+
'</div>'});var DEPayment=new Vue({el:'.c-payment',data:{local:localPayment,webUrl:currentWebUrl+"/",paymentInfo:packageData[1],projectData:null,paymentShowInfo:{payBtn:localPayment["pay-download"],processing:localPayment["processing-payment"],},isShowPay:1,errorStatus:{isCardNameError:false,isCardError:false,isPaymentError:false,},paymentCallback:null,paymentErrorInfo:localPayment["errorTipInfo"].expInfo,errorTipInfo:localPayment["errorTipInfo"],pageTitle:localPayment["checkout"],safeData:localPayment["safe-data"],evaluationData:localPayment["evaluation-data"],isShowAnimate:false,price:null,coupon:null,cardInfo:{cardNumber:"",cardExpiration:"",cardCVC:"",cardName:""},isFreeLogo:false,},methods:{showPackageHidePayment:function(){jQuery(DEPackage.$el).show();jQuery(DEPayment.$el).hide();jQuery(window).scrollTop(0);},switchPaymentType:function(type){if(type=="paypal"){jQuery(".c-payment__credit").hide();jQuery(".c-payment__paypal").show();jQuery('div[name="card"]')[0].className="c-payment__radio";jQuery('div[name="paypal"]')[0].className="c-payment__radio c-payment__radio-checked";}
else{jQuery(".c-payment__paypal").hide();jQuery(".c-payment__credit").show();jQuery('div[name="card"]')[0].className="c-payment__radio c-payment__radio-checked";jQuery('div[name="paypal"]')[0].className="c-payment__radio";}},enterToPay:function(e){if(e.keyCode===13){this.toPay();}},showPaymentPage:function(){jQuery(window).scrollTop(0);jQuery(DEPayment.$el).show();jQuery(DEPackage.$el).hide();this.initCardInfo();this.initPaymentInfo();if(window.packageLoginCallback){window.packageLoginCallback=null;}
gaPage("payment/checkout/");},toPay:function(type){if(!loginStatus){PanelFunc.signupClick();return;}
if(DEPayment.price<=0.00){this._freePay();return;}
if(type=="card")
this.stripePay();else if(type=="paypal")
this.paypalPay();},paypalPay:function(){var plan=this.paymentInfo.type;jQuery("#pp_payment").attr("href","/?option=com_project&task=payment.checkoutWithPayPal&plan="+plan+"&coupon="+this.coupon);document.getElementById("pp_payment").click();},stripePay:function(){this.errorStatus={isCardError:false,isPaymentError:false,};var cardType=null;var paymentObj=jQuery.payment;var validateCardNumber=paymentObj.validateCardNumber(this.cardInfo.cardNumber),cardExpiryVal=paymentObj.cardExpiryVal(this.cardInfo.cardExpiration),validateCardExpiry=paymentObj.validateCardExpiry(cardExpiryVal.month,cardExpiryVal.year),validateCardCVC=paymentObj.validateCardCVC(this.cardInfo.cardCVC);if(!this.cardInfo.cardName){this.errorStatus.isCardNameError=true;this.isShowAnimate=false;return;}
if(!validateCardNumber){this.errorStatus.isCardError=true;this.isShowAnimate=false;return;}
if(!validateCardExpiry){this.errorStatus.isPaymentError=true;this.paymentErrorInfo=this.errorTipInfo.expInfo;this.isShowAnimate=false;return;}
if(!validateCardCVC){this.errorStatus.isPaymentError=true;this.paymentErrorInfo=this.errorTipInfo.cvcInfo;this.isShowAnimate=false;return;}
if(validateCardNumber){this.errorStatus={isCardError:false,isPaymentError:false,};this.isShowAnimate=true;cardType=jQuery.payment.cardType(this.cardInfo.cardNumber);}
Stripe.card.createToken({number:this.cardInfo.cardNumber,cvc:this.cardInfo.cardCVC,exp_month:cardExpiryVal.month,exp_year:cardExpiryVal.year,name:this.cardInfo.cardName},this.stripeResponseHandler);},stripeResponseHandler:function(status,response){if(response.error){this.isShowAnimate=false;this.paymentFailed(response.error.message);}
else{var token=response.id;this.doPay(token);}},doPay:function(token,payer){this.isShowAnimate=true;var plan=this.paymentInfo.type;var data={token:token,payer:payer,plan:plan,project:JSON.stringify(this.projectData?this.projectData.data:null),base64:this.projectData?this.projectData.base64:null,key:this.key?this.key:null,price:this.price,coupon:this.coupon?this.coupon:null,};var url=null;if(payer){url=this.key?"index.php?option=com_project&task=payment.upgradeProjectWithPayPal":"index.php?option=com_project&task=payment.buyProjectWithPayPal"}
else{url=this.key?"index.php?option=com_project&task=payment.upgradeProjectWithCard":"index.php?option=com_project&task=payment.buyProjectWithCard";}
jQuery.ajax({type:"POST",url:url,data:data,success:function(respon){respon=respon.substring(respon.lastIndexOf("{'"));var obj=new Function("return"+respon)();if(obj.result==true){if(isApp)
{if(plan==="Basic"){gaPage("payment/success_basic/");}else{gaPage("payment/success_plus/");}
if(isAppUpgrade)
{if(this.paymentCallback)
this.paymentCallback({result:true,plan:plan,key:obj.key});}
DEPaymentSuccess.updateAffiliate(obj.price,obj.transactionID);DEPaymentSuccess.isUpgrade=isAppUpgrade;DEPaymentSuccess.key=obj.key;this._showPaymentSuccess(plan);}else{this._openAppPage();}}
else{if(isApp&&isAppUpgrade)
this.paymentCallback({result:false,error:"Payment failed! "+obj.error});else
this.paymentFailed("Payment failed! "+obj.error);}
this.isShowAnimate=false;}.bind(this),error:function(){this.isShowAnimate=false;if(isApp&&isAppUpgrade)
this.paymentCallback({result:false,error:"Payment failed!"});else
this.paymentFailed("Payment failed!");}.bind(this),});},paymentFailed:function(error){this.errorStatus.isPaymentError=true;this.paymentErrorInfo=error;},setPaymentCallback:function(func)
{this.paymentCallback=func;},formatNumber:function(){var value=this.cardInfo.cardNumber;this.cardInfo.cardNumber=this._formatNumber(value);},formatExpiration:function(){var value=this.cardInfo.cardExpiration;this.cardInfo.cardExpiration=jQuery.payment.formatExpiry(value);},formatCVC:function(){var value=this.cardInfo.cardCVC;this.cardInfo.cardCVC=value.length>4?value.substring(0,4):value;},initCardInfo:function(){this.cardInfo={cardNumber:"",cardExpiration:"",cardCVC:"",cardName:""};this.errorStatus={isCardNameError:false,isCardError:false,isPaymentError:false,};},initPaymentInfo:function(){this.paymentShowInfo={payBtn:localPayment["pay-download"],processing:localPayment["processing-payment"],};this.isShowPay=1;let paymentDescribe=this.$refs.paymentDescribe;paymentDescribe.initData();DEPayment.coupon=null;},_freePay:function(){console.log("free");let plan=this.paymentInfo.type;let data={plan:plan,project:JSON.stringify(this.projectData?this.projectData.data:null),base64:this.projectData?this.projectData.base64:null,key:this.key?this.key:null,price:this.price,coupon:this.coupon?this.coupon:null,};this.isShowAnimate=true;jQuery.ajax({type:"POST",url:this.webUrl+"index.php?option=com_project&task=payment.buyProjectWithFree",data:data,success:function(respon){respon=respon.substring(respon.lastIndexOf("{'"));var obj=new Function("return"+respon)();if(obj.result==true){if(isApp){this._showPaymentSuccess(plan);DEPaymentSuccess.key=obj.key;}else{this._openAppPage();}}
else{this.paymentFailed("Payment failed! "+obj.error);}
this.isShowAnimate=false;}.bind(this),error:function(){this.isShowAnimate=false;this.paymentFailed();}.bind(this),});},_showPaymentSuccess:function(plan){jQuery(window).scrollTop(0);jQuery(DEPaymentSuccess.$el).show();jQuery(DEPayment.$el).hide();},_openAppPage:function(){window.open(this.webUrl+commonCurrentLanguageHref()+"apps/logo/","_self");window.localStorage.setItem("key",this.key);window.localStorage.setItem("upgrade",true);if(this.isFreeLogo){window.localStorage.setItem("upgrade_free",true);}},_formatNumber:function(value){value=value.replace(/\s*/g,"");value=value.length>16?value.substring(0,16):value;var result=[];for(var i=0;i<value.length;i++){if(i%4==0&&i!=0){result.push(" "+value.charAt(i));}
else{result.push(value.charAt(i));}}
return result.join("");},}});var DEPackage=new Vue({el:'.c-package',data:{local:localPayment,packageData:packageData,pageTitle:localPayment["choose-package"],packageFAQs:packageFAQs,webUrl:currentWebUrl+"/",plan:null,isA:(ABTestType==="A")?true:false,isApp:isApp,previewImages:null,},mounted:function(){let contact=this.$refs.contact;let faq=this.$refs.faq;contact.href=this.webUrl+commonCurrentLanguageHref()+"contact.html";if(faq){faq.href=this.webUrl+commonCurrentLanguageHref()+"faq.html";}},methods:{showAppHidePackage:function(){if(isApp){this.showApp();}else{jQuery(DELogo.$el).show();jQuery('.menu_bg>.menu').show();jQuery('.footer_bg').show();}
jQuery(DEPackage.$el).hide();if(window.packageLoginCallback){window.packageLoginCallback=null;}},showApp:function(){jQuery("#designevo").show();if(!isAppUpgrade)
jQuery(".fb-like").show();jQuery('body').css({overflow:"hidden"}).scrollTop(0).attr("onselectstart","return false;");jQuery('#login-module').hide();jQuery('.menu_bg').hide();},showPackagePage:function(data){if(data){this.plan=data.plan;}
gaPage("payment/package/");if(isApp){if(this.isA){gaEvent("app_choose_package_crt_a","enter","click");}else{gaEvent("app_choose_package_crt_b","enter","click");}}},freeUpgrade:function(){this.resetPackage();jQuery(this.$el).find(".c-package__plan-item").eq(0).show();this.packageData[0].btnInfo=localPayment["current-package"];this.packageData[0].btnClass="gray-btn";DEPayment.isFreeLogo=true;gaEvent("free_logos","upgrade","click");},basicUpgrade:function(){this.resetPackage();jQuery(this.$el).find(".c-package__plan-item").eq(0).hide();this.packageData[1].btnInfo=localPayment["current-package"];this.packageData[1].btnClass="gray-btn";let price=currencySymbol+upgradePrice.price+" USD";this.packageData[2].btnInfo=localPayment["upgrade-plus"].replace("%s",price);DEPayment.isFreeLogo=false;},updatePreviewInfo:function(logo,data){this.previewImages=null;setTimeout(function(){this.previewImages=[[logo,data[0]],[data[1],data[2]],[data[3],data[4]],[data[4],data[5]]];}.bind(this),100);},resetPackage:function()
{this.packageData[0].btnInfo=this.isA?localPayment["choose"]:localPayment["download-free"];this.packageData[0].btnClass="green-btn";this.packageData[1].btnInfo=localPayment["choose"];this.packageData[1].btnClass="green-btn";this.packageData[2].btnInfo=localPayment["choose"];},}});var DEPaymentSuccess=new Vue({el:'.c-payment-success',data:{local:localPayment,packageData:packageData,key:null,isUpgrade:false,paymentSuccessCallback:null,affiliateURL:null,},methods:{downloadNow:function(){if(DEPaymentSuccess.startDownload){DEPackage.showApp();jQuery(DEPaymentSuccess.$el).hide();DEPaymentSuccess.startDownload(DEPayment.paymentInfo.title,this.key);}},myLogo:function()
{DEPackage.showApp();jQuery(DEPaymentSuccess.$el).hide();},edit:function(){DEPackage.showApp();jQuery(DEPaymentSuccess.$el).hide();if(this.paymentSuccessCallback)
this.paymentSuccessCallback(this.key);},updateAffiliate:function(amount,transactionID){this.affiliateURL="https://shareasale.com/sale.cfm?amount="+amount+"&tracking="+transactionID+"&transtype=sale&merchantID=79751";},setPaymentSuccessCallback:function(func)
{this.paymentSuccessCallback=func;}}});window.dg=new PAYPAL.apps.DGFlow({trigger:["pp_payment"],expType:"instant"});window.doPayPal=function(token,payer){DEPayment.doPay(token,payer);};window.paypalBack=function(flag){if(flag==0){this.paymentFailed("Payment failed!");}
else{}};